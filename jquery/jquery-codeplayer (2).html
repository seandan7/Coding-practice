<!doctype html>
<html>
 <head>
 <title>Code Player</title>

 <meta charset="utf-8" />
 <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
 <meta name="viewport" content="width=device-width, initial-scale=1" />
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script> 
 <link rel="stylesheet" type="text/css" href="jquery-project.css"/>
 
 </head>

 <body>
	<div id="wrapper">
	
		<div id="menuBar">
		
			<div id="playerButton"> 
				<button id="runButton">Run Code</button>
			</div>		
			<div id="logo">
				Sean's Code Player
			</div> 
			<ul id="languages">
				<li class="toggle selected">HTML</li>
				<li class="toggle">CSS</li>
				<li class="toggle">JS</li>
				<li class="toggle selected" style="border: none;">Result</li>

			</ul>
		
		</div>
		<div class="clear"></div>
		<div class="codeContainer" id="HTMLContainer">
				<div class="codeLabel">HTML</div>
			
			<textarea id="htmlCode"><div id="test"></textarea>
			
		</div>
			<div class="codeContainer" id="CSSContainer">
				<div class="codeLabel">CSS</div>
			
			<textarea id="cssCode">html {background-color: green;}</textarea>
			
		</div>
		<div class="codeContainer" id="JSContainer">
				<div class="codeLabel">JS</div>
			
			<textarea id="jsCode">document.getElementById("test").innerHTML="YES!"</textarea>
			
		</div>
		<div class="codeContainer" id="ResultContainer">
				<div class="codeLabel">Result</div>
			
					<iframe id="resultFrame">
					</iframe>
		</div>
		
	</div>
	<script>
		var windowHeight = $(window).height();
		
		var menuHeight = $("#menuBar").height();
		
		var codeContainerHeight =windowHeight-menuHeight;
		$(".codeContainer").height(codeContainerHeight+"px");
		
		$(".toggle").click(function(){
			$(this).toggleClass("selected");
			var activeDiv = $(this).html();
			$("#"+activeDiv+"Container").toggle();
			
			var showingDivs = $(".codeContainer").filter(function(){
				return($(this).css("display")!="none");
			
			}).length;
			var width=100/showingDivs;
			
			$(".codeContainer").width(width + "%");
			});
			
			$("#runButton").click(function(){
			
			$("iframe").contents().find("html").html("<style>"+$("#cssCode").val()+"</style>"+$("#htmlCode").val());
			
			});
		
	</script>
 </body>
</html>